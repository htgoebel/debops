access_rules:
    announce:
    - 'allow: admin'
    c2s:
    - deny: blocked
    - allow
    configure:
    - allow: admin
    local:
    - allow: local
    muc_create:
    - allow: local
    pubsub_createnode:
    - allow: local
    register:
    - allow
    trusted_network:
    - allow: loopback
acl:
    admin:
        user:
        - '@localhost'
    local:
        user_regexp: ''
    loopback:
        ip:
        - 127.0.0.0/8
allow_contrib_modules: true
auth_method: internal
auth_password_format: scram
disable_sasl_mechanisms: digest-md5
hosts:
- localhost
language: en
listen:
-   access: c2s
    certfile: /etc/ejabberd/ejabberd.pem
    ip: '::'
    max_stanza_size: 65536
    module: ejabberd_c2s
    port: 5222
    protocol_options:
    - no_sslv3
    resend_on_timeout: if_offline
    shaper: c2s_shaper
    starttls: true
    zlib: true
-   ip: '::'
    module: ejabberd_s2s_in
    port: 5269
-   certfile: /etc/ejabberd/ejabberd.pem
    http_bind: true
    ip: '::'
    module: ejabberd_http
    port: 5280
    request_handlers:
        /websocket: ejabberd_http_ws
    tls: true
    web_admin: true
log_rate_limit: 100
log_rotate_date: ''
log_rotate_size: 0
loglevel: 4
max_fsm_queue: 1000
modules:
    mod_adhoc: {}
    mod_admin_extra: {}
    mod_announce:
        access: announce
    mod_blocking: {}
    mod_caps: {}
    mod_carboncopy: {}
    mod_client_state: {}
    mod_configure: {}
    mod_disco: {}
    mod_echo: {}
    mod_http_bind: {}
    mod_irc: {}
    mod_last: {}
    mod_muc:
        access:
        - allow
        access_admin:
        -   allow: admin
        access_create: muc_create
        access_persistent: muc_create
    mod_muc_admin: {}
    mod_offline:
        access_max_user_messages: max_user_offline_messages
    mod_ping: {}
    mod_privacy: {}
    mod_private: {}
    mod_pubsub:
        access_createnode: pubsub_createnode
        ignore_pep_from_offline: true
        last_item_cache: false
        plugins:
        - flat
        - hometree
        - pep
    mod_roster:
        versioning: true
    mod_shared_roster: {}
    mod_stats: {}
    mod_time: {}
    mod_vcard:
        search: false
    mod_version: {}
s2s_certfile: /etc/ejabberd/ejabberd.pem
s2s_protocol_options:
- no_sslv3
s2s_use_starttls: optional
shaper:
    fast: 50000
    normal: 1000
shaper_rules:
    c2s_shaper:
    -   none: admin
    - normal
    max_user_offline_messages:
    -   5000: admin
    - 100
    max_user_sessions: 10
    s2s_shaper: fast
